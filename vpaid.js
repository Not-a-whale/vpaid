!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AdPartnerCreative=t():e.AdPartnerCreative=t()}(self,(function(){return(()=>{var e={},t=function VpaidVideoPlayer(){this.slot_=null,this.videoSlot_=null,this.eventsCallbacks_={},this.loadedTime_=(new Date).getTime(),this.attributes_={companions:"",desiredBitrate:256,duration:10,expanded:!1,height:0,icons:"",linear:!0,remainingTime:10,skippableState:!1,viewMode:"normal",width:0,volume:1},this.quartileEvents_=[{event:"AdImpression",value:0},{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:99}],this.nextQuartileIndex_=0,this.videoFormat_={Format:"",Url:"",Width:0,Height:0,BitRate:0},this.customEvent={event:"",link:""},this.vpaidData={vpaid_events:[this.customEvent]},this.currentVideo_=this.videoFormat_,this.parameters_={duration:0,videos:{HD:this.videoFormat_,MSD:this.videoFormat_,SD:this.videoFormat_},vpaid_data:this.vpaidData,click_url:""}};function OVV(){this.DEBUG=!1,this.asset=null,this.positionInterval,this.userAgent=window.testOvvConfig&&window.testOvvConfig.userAgent?window.testOvvConfig.userAgent:navigator.userAgent,this.servingScenarioEnum={OnPage:1,SameDomainIframe:2,CrossDomainIframe:3},this.intersectionObserverSupported=!!window.IntersectionObserver,this.servingScenario=function getServingScenarioType(e){try{if(window.top==window)return e.OnPage;for(var t=window;t.parent!=t;){if(t.parent.document.domain!=t.document.domain)return e.CrossDomainIframe;t=t.parent}return e.SameDomainIframe}catch(e){}return e.CrossDomainIframe}(this.servingScenarioEnum),this.IN_IFRAME=this.servingScenario!=this.servingScenarioEnum.OnPage,this.IN_XD_IFRAME=this.servingScenario==this.servingScenarioEnum.CrossDomainIframe,this.geometrySupported=!this.IN_XD_IFRAME;var e=new OVVBrowser(this.userAgent);this.browser=e.getBrowser(),this.browserIDEnum=e.getBrowserIDEnum(),this.interval=1,this.releaseVersion="OVVRELEASEVERSION",this.buildVersion="OVVBUILDVERSION";var t={},i=[],n=[];this.addAsset=function(e){t.hasOwnProperty(e.getId())||(t[e.getId()]=e,this.asset=e)},this.removeAsset=function(e){delete t[e.getId()]},this.getAssetById=function(e){return t[e]},this.getAds=function(){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},this.subscribe=function(e,t,o,s){if(s)for(key in i[t])i[t][key]&&r(i[t][key].eventName,e)&&a((function(){o(t,i[t][key])}));for(key in e)n[e[key]+t]||(n[e[key]+t]=[]),n[e[key]+t].push({Func:o})},this.publish=function(e,t,r){var s={eventName:e,eventTime:o(),ovvArgs:r};if(i[t]||(i[t]=[]),i[t].length<1e3&&i[t].push(s),e&&t&&n[e+t]instanceof Array)for(var c=0;c<n[e+t].length;c++){var d=n[e+t][c];d&&d.Func&&"function"==typeof d.Func&&a((function(){d.Func(t,s)}))}},this.getAllReceivedEvents=function(e){return i[e]},this.getViewPortSize=function(e){var t={width:1/0,height:1/0,area:1/0};return!isNaN(e.document.body.clientWidth)&&e.document.body.clientWidth>0&&(t.width=e.document.body.clientWidth),!isNaN(e.document.body.clientHeight)&&e.document.body.clientHeight>0&&(t.height=e.document.body.clientHeight),e.document.documentElement&&e.document.documentElement.clientWidth&&!isNaN(e.document.documentElement.clientWidth)&&(t.width=e.document.documentElement.clientWidth),e.document.documentElement&&e.document.documentElement.clientHeight&&!isNaN(e.document.documentElement.clientHeight)&&(t.height=e.document.documentElement.clientHeight),e.innerWidth&&!isNaN(e.innerWidth)&&(t.width=Math.min(t.width,e.innerWidth)),e.innerHeight&&!isNaN(e.innerHeight)&&(t.height=Math.min(t.height,e.innerHeight)),t.area=t.height*t.width,t};var o=function getCurrentTime(){"use strict";return Date.now?Date.now():(new Date).getTime()},r=function contains(e,t){for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},a=function runSafely(e){try{var t=e();return void 0===t||t}catch(e){return!1}}}function OVVCheck(){this.clientHeight=-1,this.clientWidth=-1,this.error="",this.focus=null,this.fps=-1,this.id="",this.beaconsSupported=null,this.geometrySupported=null,this.geometryViewabilityState="",this.beaconViewabilityState="",this.cssViewabilityState="",this.domViewabilityState="",this.technique="",this.beacons=new Array,this.inIframe=null,this.objBottom=-1,this.objLeft=-1,this.objRight=-1,this.objTop=-1,this.percentViewable=-1,this.percentObscured=0,this.viewabilityState=""}function OVVBrowser(e){var t={MSIE:1,Firefox:2,Chrome:3,Opera:4,safari:5};var i=function getBrowserDetailsByUserAgent(e,t){var i="(Windows NT )",n=[{id:4,name:"Opera",brRegex:"OPR|Opera",verRegex:"(OPR/|Version/)"},{id:1,name:"MSIE",brRegex:"MSIE|Trident/7.*rv:11|rv:11.*Trident/7",verRegex:"(MSIE |rv:)"},{id:2,name:"Firefox",brRegex:"Firefox",verRegex:"Firefox/"},{id:3,name:"Chrome",brRegex:"Chrome",verRegex:"Chrome/"},{id:5,name:"Safari",brRegex:"Safari|(OS |OS X )[0-9].*AppleWebKit",verRegex:"Version/"}];return function getData(){for(var t={ID:0,name:"",version:""},o=e,r=0;r<n.length;r++)if(null!=o.match(new RegExp(n[r].brRegex))){if(t.ID=n[r].id,t.name=n[r].name,null==n[r].verRegex)break;var a=o.match(new RegExp(n[r].verRegex+"[0-9]*"));if(null!=a){var s=a[0].match(new RegExp(n[r].verRegex));t.version=a[0].replace(s[0],"")}var c=o.match(new RegExp(i+"[0-9\\.]*"));null!=c&&(t.os=c[0]);break}return t}()}(e);this.getBrowser=function(){return i},this.getBrowserIDEnum=function(){return t}}function OVVBeaconSupportCheck(){var e=new OVVBrowser($ovv.userAgent),t=e.getBrowser(),i=e.getBrowserIDEnum();this.supportsBeacons=function(){var e=t.ID==i.MSIE,n=t.version>=11,o=t.os?t.os.split(" "):[0],r=o[o.length-1];return!e||n&&r>=6.3}}function OVVAsset(e,t,i){var n,o,r=13,a=Math.sqrt(2),s=e,c=0,d=$ovv.DEBUG?20:1,u=t.geometryViewabilityCalculator,h=function getBeaconFunc(){return null},l=function getBeaconContainerFunc(){return null},v=new OVVBeaconSupportCheck;this.checkViewability=function(){var e=new OVVCheck;if(e.id=s,e.inIframe=$ovv.IN_IFRAME,e.geometrySupported=$ovv.geometrySupported,e.focus=A(),!i)return e.error="Player not found!",e;if($ovv.intersectionObserverSupported)return e.technique=OVVCheck.INTERSECTIONOBSERVER,w(e,i),e.viewabilityState=e.percentViewable>=50?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,e;if(!0===p(e,i)){if(!$ovv.DEBUG)return e;e.cssViewabilityState=OVVCheck.UNVIEWABLE}if(!0===b(e,i)){if(!$ovv.DEBUG)return e;e.domViewabilityState=OVVCheck.UNVIEWABLE}if(!v.supportsBeacons()&&!1===e.geometrySupported&&(e.viewabilityState=OVVCheck.UNMEASURABLE,!$ovv.DEBUG))return e;if(e.geometrySupported){if(e.technique=OVVCheck.GEOMETRY,f(e,i),e.viewabilityState=e.percentViewable>=50?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,!$ovv.DEBUG)return e;e.geometryViewabilityState=e.viewabilityState}var t=E(0),n=S(0);if(t&&t.isViewable&&n){var o=_(n)&&t.isViewable();e.beaconsSupported=!o}else e.beaconsSupported=!1;if(g())if(e.beaconsSupported){e.technique=OVVCheck.BEACON;var r=V(e);null===r?(e.viewabilityState=OVVCheck.UNMEASURABLE,$ovv.DEBUG&&(e.beaconViewabilityState=OVVCheck.UNMEASURABLE)):(e.viewabilityState=r?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,$ovv.DEBUG&&(e.beaconViewabilityState=r?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE))}else e.viewabilityState=OVVCheck.UNMEASURABLE;else e.technique=OVVCheck.BEACON,e.viewabilityState=OVVCheck.NOT_READY;if($ovv.DEBUG)if(e.technique="",null===e.geometryViewabilityState&&null===e.beaconViewabilityState)e.viewabilityState=OVVCheck.UNMEASURABLE;else{var a=e.beaconViewabilityState===OVVCheck.VIEWABLE,c=e.cssViewabilityState===OVVCheck.VIEWABLE,d=e.domViewabilityState===OVVCheck.VIEWABLE,u=e.geometryViewabilityState===OVVCheck.VIEWABLE;e.viewabilityState=c||d||a||u?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE}return e},this.beaconStarted=function(t){$ovv.DEBUG&&E(t).debug&&E(t).debug(),0!==t&&(c++,g()&&i["onJsReady"+e]())},this.dispose=function(){for(var e=1;e<=r;e++){var t=S(e);t&&(delete c[e],t.parentElement.removeChild(t))}clearInterval(window.$ovv.positionInterval),window.$ovv.removeAsset(this)},this.getId=function(){return s};var p=function checkCssInvisibility(e,t){var i=window.getComputedStyle(t,null),n=i.getPropertyValue("visibility"),o=i.getPropertyValue("display");return("hidden"==n||"none"==o)&&(e.technique=OVVCheck.CSS_INVISIBILITY,e.viewabilityState=OVVCheck.UNVIEWABLE,!0)},b=function checkDomObscuring(e,t){var i=t.getBoundingClientRect(),n=i.left+12,o=i.right-12,r=i.top+12,a=i.bottom-12,s=Math.floor(i.left+i.width/2),c=Math.floor(i.top+i.height/2),d=[{x:n,y:r},{x:s,y:r},{x:o,y:r},{x:n,y:c},{x:s,y:c},{x:o,y:c},{x:n,y:a},{x:s,y:a},{x:o,y:a}];for(var u in d)if(d[u]&&d[u].x>=0&&d[u].y>=0&&(elem=document.elementFromPoint(d[u].x,d[u].y),null!=elem&&elem!=t&&!t.contains(elem)&&(overlappingArea=m(i,elem.getBoundingClientRect()),overlappingArea>0&&(e.percentObscured=100*m(i,elem.getBoundingClientRect()),e.percentObscured>50))))return e.percentViewable=100-e.percentObscured,e.technique=OVVCheck.DOM_OBSCURING,e.viewabilityState=OVVCheck.UNVIEWABLE,!0;return!1},m=function overlapping(e,t){var i=e.width*e.height;return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))/i},f=function checkGeometry(e,t){e.percentObscured=e.percentObscured||0;var i=u.getViewabilityState(t,window);return i.error||(e.clientWidth=i.clientWidth,e.clientHeight=i.clientHeight,e.percentViewable=i.percentViewable-e.percentObscured,e.objTop=i.objTop,e.objBottom=i.objBottom,e.objLeft=i.objLeft,e.objRight=i.objRight),i},V=function checkBeacons(e){if(!g())return null;var t=0,n=0,o=0,a=0;e.beacons=new Array(r);var s=i.getClientRects?i.getClientRects()[0]:{top:-1,bottom:-1,left:-1,right:-1};e.objTop=s.top,e.objBottom=s.bottom,e.objLeft=s.left,e.objRight=s.right;for(var c=0;c<=r;c++)if(0!==c){var d=E(c),u=S(c),h=d.isViewable(),l=_(u);if(e.beacons[c]=h&&l,h)switch(t++,c){case 2:case 3:case 4:case 5:n++;break;case 6:case 7:case 8:case 9:o++;break;case 10:case 11:case 12:case 13:a++}}if(t===r)return!0;var v=e.beacons;return!1===v[1]?(a>=3||o>=3||n>=3)&&null:!0===v[1]&&(!0===v[2]&&!0===v[3]||!0===v[2]&&!0===v[4]||!0===v[3]&&!0===v[5]||!0===v[4]&&!0===v[5])||(!0===v[1]&&4==o||(!v[2]||!v[5]||v[6]&&v[10]&&v[1]&&v[13]&&v[9]?!(!v[4]||!v[3]||v[8]&&v[12]&&v[1]&&v[11]&&v[7])&&null:null))},w=function checkIntersectionObserver(e,t){e.percentViewable=o.percentViewable;var i=t.getClientRects?t.getClientRects()[0]:{top:-1,bottom:-1,left:-1,right:-1};if(e.objTop=i.top,e.objBottom=i.bottom,e.objLeft=i.left,e.objRight=i.right,e.geometrySupported){var n=$ovv.getViewPortSize(window);e.clientWidth=n.width,e.clientHeight=n.height}},g=function beaconsReady(){return!!i&&c===r},y=function positionBeacons(){if(g()){var e=i.getClientRects()[0];if(!n||!e||n.left!==e.left||n.right!==e.right||n.top!==e.top||n.bottom!==e.bottom){n=e;for(var t=e.right-e.left,o=e.bottom-e.top,s=t/(1+a),c=o/(1+a),u=t/a,h=o/a,l=0;l<=r;l++){var v=Math.round(5*Math.random()),p=e.left+document.body.scrollLeft,b=e.top+document.body.scrollTop;switch(l){case 0:p=-1e5,b=-1e5;break;case 1:p+=(t-d)/2+v,b+=(o-d)/2+v;break;case 2:p+=v,b+=v;break;case 3:b+=v,p+=t-d-v;break;case 4:p+=v,b+=o-d-v;break;case 5:p+=t-d-v,b+=o-d-v;break;case 6:p+=(t-u)/2+v,b+=(o-h)/2+v;break;case 7:p+=(t-u)/2+u-v,b+=(o-h)/2+v;break;case 8:p+=(t-u)/2+v,b+=(o-h)/2+h-v;break;case 9:p+=(t-u)/2+u-v,b+=(o-h)/2+h-v;break;case 10:p+=(t-s)/2+v,b+=(o-c)/2+v;break;case 11:p+=(t-s)/2+s-v,b+=(o-c)/2+v;break;case 12:p+=(t-s)/2+v,b+=(o-c)/2+c-v;break;case 13:p+=(t-s)/2+s-v,b+=(o-c)/2+c-v}l>=6&&(p-=d/2,b-=d/2),p=Math.round(p),b=Math.round(b);var m=S(l);m.style.left=p+"px",m.style.top=b+"px"}}}},_=function isOnScreen(e){if(!e)return!1;var t=Math.max(document.body.clientWidth,window.innerWidth),i=Math.max(document.body.clientHeight,window.innerHeight),n=e.getClientRects()[0];return n.top<i&&n.bottom>0&&n.left<t&&n.right>0},E=function(e){return h(e)}.memoize(),S=function(e){return l(e)}.memoize(),A=function isInFocus(){return("undefined"===document.hidden||!0!==document.hidden)&&(!!$ovv.IN_XD_IFRAME||(!window.top.document.hasFocus||window.top.document.hasFocus()))};$ovv.intersectionObserverSupported?(o=new OVVIntersectionObserverViewabilityMonitor,i&&(o.beginMonitoring(i),i["onJsReady"+e]&&setTimeout((function(){i["onJsReady"+e]()}),5))):0==$ovv.geometrySupported||$ovv.DEBUG?$ovv.browser.ID===$ovv.browserIDEnum.Firefox?(h=function getFrameBeacon(e){var t=document.getElementById("OVVFrame_"+s+"_"+e),i=null;return t&&(i=t.contentWindow),i},l=function getFrameBeaconContainer(e){return document.getElementById("OVVFrame_"+s+"_"+e)},function createFrameBeacons(){for(var e=0;e<=r;e++){var t=document.createElement("iframe");t.name=t.id="OVVFrame_"+s+"_"+e,t.width=$ovv.DEBUG?20:1,t.height=$ovv.DEBUG?20:1,t.frameBorder=0,t.style.position="absolute",t.style.zIndex=$ovv.DEBUG?99999:-99999,t.src="javascript: window.isInViewArea = undefined; window.wasInViewArea = false; window.isInView = undefined; window.wasViewed = false; window.started = false; window.index = "+e+';window.isViewable = function() { return window.isInView; }; var cnt = 0; setTimeout(function() {var span = document.createElement("span");span.id = "ad1";document.body.insertBefore(span, document.body.firstChild);},300);setTimeout(function() {setInterval(function() { ad1 = document.getElementById("ad1");ad1.innerHTML = window.mozPaintCount > cnt ? "In View" : "Out of View";var paintCount = window.mozPaintCount; window.isInView = (paintCount>cnt); cnt = paintCount; if (parent.$ovv.DEBUG == true) {if(window.isInView === true){document.body.style.background = "green";} else {document.body.style.background = "red";}}if (window.started === false) {parent.$ovv.getAssetById("'+s+'").beaconStarted(window.index);window.started = true;}}, 500)},400);',document.body.insertBefore(t,document.body.firstChild)}y.bind(this)(),this.positionInterval=setInterval(y.bind(this),500)}.bind(this)()):(h=function getFlashBeacon(e){return document.getElementById("OVVBeacon_"+e+"_"+s)},l=function getFlashBeaconContainer(e){return document.getElementById("OVVBeaconContainer_"+e+"_"+s)},function createBeacons(e){var t="LRU_FWS_NOCAEB".split("").reverse().join("");if(""!=e&&e!=t){for(var i=0;i<=r;i++){var n=document.createElement("DIV");n.id="OVVBeaconContainer_"+i+"_"+s,n.style.position="absolute",n.style.zIndex=$ovv.DEBUG?99999:-99999;var o='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+d+'" height="'+d+'"><param name="movie" value="'+e+'" /><param name="quality" value="low" /><param name="flashvars" value="id='+s+"&index="+i+'" /><param name="bgcolor" value="#ffffff" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" />\x3c!--[if !IE]>--\x3e<object id="OVVBeacon_'+i+"_"+s+'" type="application/x-shockwave-flash" data="'+e+'" width="'+d+'" height="'+d+'"><param name="quality" value="low" /><param name="flashvars" value="id='+s+"&index="+i+'" /><param name="bgcolor" value="#ff0000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" />\x3c!--<![endif]--\x3e</object>';n.innerHTML=o,document.body.insertBefore(n,document.body.firstChild)}y.bind(this)(),this.positionInterval=setInterval(y.bind(this),500)}}.bind(this)("BEACON_SWF_URL")):i&&i["onJsReady"+e]&&setTimeout((function(){i["onJsReady"+e]()}),5)}function OVVGeometryViewabilityCalculator(){this.getViewabilityState=function(i,n){var o,r=e();if(r.area==1/0)return{error:"Failed to determine viewport"};var a=(d=i.getBoundingClientRect()).width*d.height;if(r.area/a<.5)o=Math.floor(100*r.area/a);else{var s=$ovv.getViewPortSize(window.top),c=t(i,n);c.bottom>s.height&&(c.height-=c.bottom-s.height),c.top<0&&(c.height+=c.top),c.left<0&&(c.width+=c.left),c.right>s.width&&(c.width-=c.right-s.width),o=Math.floor(c.width*c.height*100/a)}var d=i.getBoundingClientRect();return{clientWidth:s.width,clientHeight:s.height,objTop:d.top,objBottom:d.bottom,objLeft:d.left,objRight:d.right,percentViewable:o}};var e=function getMinViewPortSize(){for(var e=$ovv.getViewPortSize(window),t=e.area,i=window;i!=window.top;)i=i.parent,viewPortSize=$ovv.getViewPortSize(i),viewPortSize.area<t&&(t=viewPortSize.area,e=viewPortSize);return e},t=function getAssetVisibleDimension(e,t){var n=t,o=t.parent,r={width:0,height:0,left:0,right:0,top:0,bottom:0};if(e){var a=i(e,t);if(a.width=a.right-a.left,a.height=a.bottom-a.top,r=a,n!=o){var s=getAssetVisibleDimension(n.frameElement,o);s.bottom<r.bottom&&(s.bottom<r.top&&(r.top=s.bottom),r.bottom=s.bottom),s.right<r.right&&(s.right<r.left&&(r.left=s.right),r.right=s.right),r.width=r.right-r.left,r.height=r.bottom-r.top}}return r},i=function getPositionRelativeToViewPort(e,t){var i=t,n=t.parent,o={left:0,right:0,top:0,bottom:0};if(e){var r=e.getBoundingClientRect();i!=n&&(o=getPositionRelativeToViewPort(i.frameElement,n)),o={left:r.left+o.left,right:r.right+o.left,top:r.top+o.top,bottom:r.bottom+o.top}}return o}}function OVVIntersectionObserverViewabilityMonitor(){var e,t=0;$ovv.intersectionObserverSupported&&(e=new IntersectionObserver((function thresholdCallback(e){e&&e.length&&"undefined"!==e[0].intersectionRatio&&(t=100*e[0].intersectionRatio)}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),Object.defineProperty(this,"percentViewable",{get:function get(){return t}}),this.beginMonitoring=function(t){t&&e.observe(t)}}return t.prototype.handshakeVersion=function(e){return"2.0"},t.prototype.initAd=function(e,t,i,n,o,r){this.attributes_.width=e,this.attributes_.height=t,this.attributes_.viewMode=i,this.attributes_.desiredBitrate=n,this.slot_=r.slot,this.videoSlot_=r.videoSlot,this.parameters_=JSON.parse(o.AdParameters),this.selectVideo_(),this.updateVideoSlot_(),this.initOVV(),this.videoSlot_.addEventListener("timeupdate",this.timeUpdateHandler_.bind(this),!1),this.videoSlot_.addEventListener("loadedmetadata",this.loadedMetadata_.bind(this),!1),this.videoSlot_.addEventListener("ended",this.stopAd.bind(this),!1),this.slot_.addEventListener("click",this.clickAd_.bind(this),!1),this.callEvent_("AdLoaded"),this.subscribeCustomEvents_(),this.callCustomEvents_()},t.prototype.initOVV=function(){var e=new OVV;for(var t in window.$ovv=window.$ovv||e,e)$ovv.hasOwnProperty(t)||($ovv[t]=e[t]);var i=new OVVAsset("OVVID",{geometryViewabilityCalculator:new OVVGeometryViewabilityCalculator},this.slot_);window.$ovv.addAsset(i)},t.prototype.subscribeCustomEvents_=function(){this.subscribe(this.vb_iab1,"vb_iab1",this),this.subscribe(this.vb_iab2,"vb_iab2",this)},t.prototype.callCustomEvents_=function(){this.callEvent_("vb_iab1"),this.callEvent_("vb_iab2")},t.prototype.isValidTime=function(e){return(new Date).getTime()-this.loadedTime_>=e},t.prototype.vb_iab1_time_counter=0,t.prototype.vb_iab1=function(){if(this.isViewable()){if(t.prototype.vb_iab1_time_counter>=1e3)return void this.httpGet(this.getEventByKey("vb_iab1"));t.prototype.vb_iab1_time_counter+=50,window.setTimeout(function(){this.vb_iab1()}.bind(this),50)}else t.prototype.vb_iab1_time_counter=0,window.setTimeout(function(){this.vb_iab1()}.bind(this),50)},t.prototype.vb_iab2_time_counter=0,t.prototype.vb_iab2=function(){if(this.isValidTime(2e3)&&this.isViewable()){if(t.prototype.vb_iab2_time_counter>=2e3)return void this.httpGet(this.getEventByKey("vb_iab2"));t.prototype.vb_iab2_time_counter+=50,window.setTimeout(function(){this.vb_iab2()}.bind(this),50)}else t.prototype.vb_iab2_time_counter=0,window.setTimeout(function(){this.vb_iab2()}.bind(this),50)},t.prototype.isPlaying=function(){return this.videoSlot_.currentTime>0&&!this.videoSlot_.paused&&!this.videoSlot_.ended},t.prototype.isViewable=function(){return $ovv.asset.checkViewability().viewabilityState===OVVCheck.VIEWABLE},t.prototype.getEventByKey=function(e){for(var t=0;t<this.parameters_.vpaid_data.vpaid_events.length;t++)if(this.parameters_.vpaid_data.vpaid_events[t].event===e)return this.parameters_.vpaid_data.vpaid_events[t]},t.prototype.httpGet=function(e){var t=new XMLHttpRequest;t.open("GET",e.link,!0),t.send(null)},t.prototype.clickAd_=function(){this.httpGet(this.getEventByKey("click")),window.open(this.parameters_.vpaid_data.click_url,"_blank"),this.callEvent_("AdClickThru")},t.prototype.loadedMetadata_=function(){this.attributes_.duration=this.videoSlot_.duration,this.callEvent_("AdDurationChange")},t.prototype.timeUpdateHandler_=function(){if(!(this.nextQuartileIndex_>=this.quartileEvents_.length)){if(100*this.videoSlot_.currentTime/this.videoSlot_.duration>=this.quartileEvents_[this.nextQuartileIndex_].value){var e=this.quartileEvents_[this.nextQuartileIndex_].event;void 0===this.eventsCallbacks_[e]&&"AdImpression"===e||this.eventsCallbacks_[e](),this.nextQuartileIndex_+=1}this.videoSlot_.duration>0&&(this.attributes_.remainingTime=this.videoSlot_.duration-this.videoSlot_.currentTime)}},t.prototype.updateVideoSlot_=function(){null==this.videoSlot_&&(this.videoSlot_=document.createElement("video"),this.slot_.appendChild(this.videoSlot_)),this.updateVideoPlayerSize_(),this.videoSlot_.setAttribute("src",this.currentVideo_.Url)},t.prototype.selectVideo_=function(){this.getAdWidth()<480?this.setCurrentVideo_("MSD"):this.getAdWidth()<960?this.setCurrentVideo_("SD"):this.setCurrentVideo_("HD")},t.prototype.setCurrentVideo_=function(e){this.currentVideo_=this.parameters_.videos[e]},t.prototype.updateVideoPlayerSize_=function(){this.videoSlot_.setAttribute("width",this.attributes_.width),this.videoSlot_.setAttribute("height",this.attributes_.height)},t.prototype.startAd=function(){this.videoSlot_.play(),this.callEvent_("AdStarted")},t.prototype.stopAd=function(){var e=this.callEvent_.bind(this);setTimeout(e,75,["AdStopped"])},t.prototype.resizeAd=function(e,t,i){this.attributes_.width=e,this.attributes_.height=t,this.attributes_.viewMode=i,this.updateVideoPlayerSize_(),this.callEvent_("AdSizeChange")},t.prototype.pauseAd=function(){this.videoSlot_.pause(),this.callEvent_("AdPaused")},t.prototype.resumeAd=function(){this.videoSlot_.play(),this.callEvent_("AdPlaying")},t.prototype.expandAd=function(){this.attributes_.expanded=!0,this.callEvent_("AdExpanded")},t.prototype.collapseAd=function(){this.attributes_.expanded=!1},t.prototype.skipAd=function(){this.attributes_.skippableState&&this.callEvent_("AdSkipped")},t.prototype.subscribe=function(e,t,i){var n=e.bind(i);this.eventsCallbacks_[t]=n},t.prototype.unsubscribe=function(e){this.eventsCallbacks_[e]=null},t.prototype.getAdLinear=function(){return this.attributes_.linear},t.prototype.getAdWidth=function(){return this.attributes_.width},t.prototype.getAdHeight=function(){return this.attributes_.height},t.prototype.getAdExpanded=function(){return this.attributes_.expanded},t.prototype.getAdSkippableState=function(){return this.attributes_.skippableState},t.prototype.getAdRemainingTime=function(){return this.attributes_.remainingTime},t.prototype.getAdDuration=function(){return this.attributes_.duration},t.prototype.getAdVolume=function(){return this.attributes_.volume},t.prototype.setAdVolume=function(e){this.attributes_.volume=e,this.callEvent_("AdVolumeChange")},t.prototype.getAdCompanions=function(){return this.attributes_.companions},t.prototype.getAdIcons=function(){return this.attributes_.icons},t.prototype.log=function(e){console.log(e)},t.prototype.callEvent_=function(e){e in this.eventsCallbacks_&&this.eventsCallbacks_[e]()},e.a=function getVPAIDAd(){return new t},OVVCheck.UNMEASURABLE="unmeasurable",OVVCheck.VIEWABLE="viewable",OVVCheck.UNVIEWABLE="unviewable",OVVCheck.NOT_READY="not_ready",OVVCheck.BEACON="beacon",OVVCheck.GEOMETRY="geometry",OVVCheck.INTERSECTIONOBSERVER="intersectionobserver",OVVCheck.CSS_INVISIBILITY="css_invisibility",OVVCheck.DOM_OBSCURING="dom_obscuring",Function.prototype.memoized=function(e){return this._cacheValue=this._cacheValue||{},void 0!==this._cacheValue[e]?this._cacheValue[e]:this._cacheValue[e]=this.apply(this,arguments)},Function.prototype.memoize=function(){var e=this;return function(){return e.memoized.apply(e,arguments)}},e})()}));
//# sourceMappingURL=vpaid.js.map